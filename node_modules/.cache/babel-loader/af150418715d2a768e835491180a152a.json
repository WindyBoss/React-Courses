{"ast":null,"code":"import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nimport axios from 'axios';\nexport const todoApi = createApi({\n  reducerPath: 'apiService',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'http://localhost:3000/'\n  }),\n  tagTypes: ['Post'],\n  endpoints: build => ({\n    getTodos: build.query({\n      query: () => ({\n        url: 'todos'\n      }),\n      transformResponse: (response, meta, arg) => response.data,\n      providesTags: (result, error, id) => [{\n        type: 'Post',\n        id\n      }],\n\n      async onQueryStarted(arg, _ref) {\n        let {\n          dispatch,\n          getState,\n          extra,\n          requestId,\n          queryFulfilled,\n          getCacheEntry,\n          updateCachedData\n        } = _ref;\n      },\n\n      // The 2nd parameter is the destructured `QueryCacheLifecycleApi`\n      async onCacheEntryAdded(arg, _ref2) {\n        let {\n          dispatch,\n          getState,\n          extra,\n          requestId,\n          cacheEntryRemoved,\n          cacheDataLoaded,\n          getCacheEntry,\n          updateCachedData\n        } = _ref2;\n      }\n\n    })\n  }) // endpoints: builder => ({\n  //     getAllTodos: builder.query({\n  //         query: () => ({\n  //             url: 'todos',\n  //             method: 'GET',\n  //         }),\n  //         providesTags: result => console.log(result),\n  //         // result ? [\n  //         //     ...result.map(({ id }) => ({\n  //         //         type: 'Todo',\n  //         //         id,\n  //         //     })),\n  //         //     { type: 'Todo', id: 'LIST' },\n  //         // ] : [{ type: 'Todo', id: 'LIST' }],\n  //     }),\n  //     addTodo: builder.mutation({\n  //         query: body => ({\n  //             url: 'todos',\n  //             method: 'POST',\n  //             body,\n  //         }),\n  //     }),\n  //     toggleComplete: builder.mutation({\n  //         query: ({ id, ...patch }) => ({\n  //             url: `todos/${id}`,\n  //             method: 'PUT',\n  //             body: patch,\n  //         }),\n  //     }),\n  //     deleteTodo: builder.mutation({\n  //         query: id => ({\n  //             url: `todos/${id}`,\n  //             method: 'DELETE',\n  //         }),\n  //     }),\n  // }),\n\n});\nexport const {\n  useGetAllTodosQuery\n} = todoApi;\nconsole.log(todoApi);\nexport const getTodos = async () => {\n  const {\n    data\n  } = await axios.get('http://localhost:3000/todos');\n  return data;\n};\nexport const postTodos = async todo => {\n  const {\n    data\n  } = await axios.post('http://localhost:3000/todos', todo);\n  return data;\n};\nexport const deleteTodos = async todoId => {\n  const {\n    data\n  } = await axios.delete('http://localhost:3000/todos', todoId);\n  return data;\n};","map":{"version":3,"sources":["/Users/vitaliy/Documents/GitHub/React-Courses/src/service/apiService.js"],"names":["createApi","fetchBaseQuery","axios","todoApi","reducerPath","baseQuery","baseUrl","tagTypes","endpoints","build","getTodos","query","url","transformResponse","response","meta","arg","data","providesTags","result","error","id","type","onQueryStarted","dispatch","getState","extra","requestId","queryFulfilled","getCacheEntry","updateCachedData","onCacheEntryAdded","cacheEntryRemoved","cacheDataLoaded","useGetAllTodosQuery","console","log","get","postTodos","todo","post","deleteTodos","todoId","delete"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,cAApB,QAA0C,8BAA1C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,OAAO,GAAGH,SAAS,CAAC;AAC7BI,EAAAA,WAAW,EAAE,YADgB;AAE7BC,EAAAA,SAAS,EAAEJ,cAAc,CAAC;AAAEK,IAAAA,OAAO,EAAE;AAAX,GAAD,CAFI;AAG7BC,EAAAA,QAAQ,EAAE,CAAC,MAAD,CAHmB;AAI7BC,EAAAA,SAAS,EAAEC,KAAK,KAAK;AACjBC,IAAAA,QAAQ,EAAED,KAAK,CAACE,KAAN,CAAY;AAClBA,MAAAA,KAAK,EAAE,OAAO;AAAEC,QAAAA,GAAG,EAAE;AAAP,OAAP,CADW;AAElBC,MAAAA,iBAAiB,EAAE,CAACC,QAAD,EAAWC,IAAX,EAAiBC,GAAjB,KAAyBF,QAAQ,CAACG,IAFnC;AAGlBC,MAAAA,YAAY,EAAE,CAACC,MAAD,EAASC,KAAT,EAAgBC,EAAhB,KAAuB,CAAC;AAAEC,QAAAA,IAAI,EAAE,MAAR;AAAgBD,QAAAA;AAAhB,OAAD,CAHnB;;AAIlB,YAAME,cAAN,CACIP,GADJ,QAUE;AAAA,YATO;AACDQ,UAAAA,QADC;AAEDC,UAAAA,QAFC;AAGDC,UAAAA,KAHC;AAIDC,UAAAA,SAJC;AAKDC,UAAAA,cALC;AAMDC,UAAAA,aANC;AAODC,UAAAA;AAPC,SASP;AAAE,OAdc;;AAelB;AACA,YAAMC,iBAAN,CACIf,GADJ,SAWE;AAAA,YAVO;AACDQ,UAAAA,QADC;AAEDC,UAAAA,QAFC;AAGDC,UAAAA,KAHC;AAIDC,UAAAA,SAJC;AAKDK,UAAAA,iBALC;AAMDC,UAAAA,eANC;AAODJ,UAAAA,aAPC;AAQDC,UAAAA;AARC,SAUP;AAAE;;AA3Bc,KAAZ;AADO,GAAL,CAJa,CAmC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAvE6B,CAAD,CAAzB;AA0EP,OAAO,MAAM;AAAEI,EAAAA;AAAF,IAA0B/B,OAAhC;AACPgC,OAAO,CAACC,GAAR,CAAYjC,OAAZ;AAEA,OAAO,MAAMO,QAAQ,GAAG,YAAW;AAC/B,QAAM;AAAEO,IAAAA;AAAF,MAAW,MAAMf,KAAK,CAACmC,GAAN,CAAU,6BAAV,CAAvB;AACA,SAAOpB,IAAP;AACH,CAHM;AAKP,OAAO,MAAMqB,SAAS,GAAG,MAAMC,IAAN,IAAc;AACnC,QAAM;AAAEtB,IAAAA;AAAF,MAAW,MAAMf,KAAK,CAACsC,IAAN,CAAW,6BAAX,EAA0CD,IAA1C,CAAvB;AACA,SAAOtB,IAAP;AACH,CAHM;AAKP,OAAO,MAAMwB,WAAW,GAAG,MAAMC,MAAN,IAAgB;AACvC,QAAM;AAAEzB,IAAAA;AAAF,MAAW,MAAMf,KAAK,CAACyC,MAAN,CAAa,6BAAb,EAA4CD,MAA5C,CAAvB;AACA,SAAOzB,IAAP;AACH,CAHM","sourcesContent":["import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nimport axios from 'axios';\n\nexport const todoApi = createApi({\n    reducerPath: 'apiService',\n    baseQuery: fetchBaseQuery({ baseUrl: 'http://localhost:3000/' }),\n    tagTypes: ['Post'],\n    endpoints: build => ({\n        getTodos: build.query({\n            query: () => ({ url: 'todos' }),\n            transformResponse: (response, meta, arg) => response.data,\n            providesTags: (result, error, id) => [{ type: 'Post', id }],\n            async onQueryStarted(\n                arg, {\n                    dispatch,\n                    getState,\n                    extra,\n                    requestId,\n                    queryFulfilled,\n                    getCacheEntry,\n                    updateCachedData,\n                }\n            ) {},\n            // The 2nd parameter is the destructured `QueryCacheLifecycleApi`\n            async onCacheEntryAdded(\n                arg, {\n                    dispatch,\n                    getState,\n                    extra,\n                    requestId,\n                    cacheEntryRemoved,\n                    cacheDataLoaded,\n                    getCacheEntry,\n                    updateCachedData,\n                }\n            ) {},\n        }),\n    }),\n    // endpoints: builder => ({\n    //     getAllTodos: builder.query({\n    //         query: () => ({\n    //             url: 'todos',\n    //             method: 'GET',\n    //         }),\n    //         providesTags: result => console.log(result),\n    //         // result ? [\n    //         //     ...result.map(({ id }) => ({\n    //         //         type: 'Todo',\n    //         //         id,\n    //         //     })),\n    //         //     { type: 'Todo', id: 'LIST' },\n    //         // ] : [{ type: 'Todo', id: 'LIST' }],\n    //     }),\n\n    //     addTodo: builder.mutation({\n    //         query: body => ({\n    //             url: 'todos',\n    //             method: 'POST',\n    //             body,\n    //         }),\n    //     }),\n    //     toggleComplete: builder.mutation({\n    //         query: ({ id, ...patch }) => ({\n    //             url: `todos/${id}`,\n    //             method: 'PUT',\n    //             body: patch,\n    //         }),\n    //     }),\n    //     deleteTodo: builder.mutation({\n    //         query: id => ({\n    //             url: `todos/${id}`,\n    //             method: 'DELETE',\n    //         }),\n    //     }),\n    // }),\n});\n\nexport const { useGetAllTodosQuery } = todoApi;\nconsole.log(todoApi);\n\nexport const getTodos = async() => {\n    const { data } = await axios.get('http://localhost:3000/todos');\n    return data;\n};\n\nexport const postTodos = async todo => {\n    const { data } = await axios.post('http://localhost:3000/todos', todo);\n    return data;\n};\n\nexport const deleteTodos = async todoId => {\n    const { data } = await axios.delete('http://localhost:3000/todos', todoId);\n    return data;\n};"]},"metadata":{},"sourceType":"module"}