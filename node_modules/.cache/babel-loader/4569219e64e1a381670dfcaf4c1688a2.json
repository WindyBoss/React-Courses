{"ast":null,"code":"import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nimport axios from 'axios';\nexport const todoApi = createApi({\n  reducerPath: 'api',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'http://localhost:3500'\n  }),\n  tagTypes: ['Todos'],\n  endpoints: builder => ({\n    getTodos: builder.query({\n      query: () => '/todos',\n      transformResponse: res => res.sort((a, b) => b.id - a.id),\n      providesTags: ['Todos']\n    }),\n    addTodo: builder.mutation({\n      query: todo => ({\n        url: '/todos',\n        method: 'POST',\n        body: todo\n      }),\n      invalidatesTags: ['Todos']\n    }),\n    updateTodo: builder.mutation({\n      query: todo => ({\n        url: `/todos/${todo.id}`,\n        method: 'PATCH',\n        body: todo\n      }),\n      invalidatesTags: ['Todos']\n    }),\n    deleteTodo: builder.mutation({\n      query: _ref => {\n        let {\n          id\n        } = _ref;\n        return {\n          url: `/todos/${id}`,\n          method: 'DELETE',\n          body: id\n        };\n      },\n      invalidatesTags: ['Todos']\n    })\n  })\n});\nexport const {\n  useGetTodosQuery,\n  useAddTodoMutation,\n  useUpdateTodoMutation,\n  useDeleteTodoMutation\n} = todoApi; // export const todoApi = createApi({\n//     reducerPath: 'apiService',\n//     baseQuery: fetchBaseQuery({ baseUrl: 'http://localhost:3000/' }),\n//     tagTypes: ['Post'],\n//     endpoints: build => ({\n//         getTodos: build.query({\n//             query: () => 'todos',\n//         }),\n//     }),\n//     // endpoints: builder => ({\n//     //     getAllTodos: builder.query({\n//     //         query: () => ({\n//     //             url: 'todos',\n//     //             method: 'GET',\n//     //         }),\n//     //         providesTags: result => console.log(result),\n//     //         // result ? [\n//     //         //     ...result.map(({ id }) => ({\n//     //         //         type: 'Todo',\n//     //         //         id,\n//     //         //     })),\n//     //         //     { type: 'Todo', id: 'LIST' },\n//     //         // ] : [{ type: 'Todo', id: 'LIST' }],\n//     //     }),\n//     //     addTodo: builder.mutation({\n//     //         query: body => ({\n//     //             url: 'todos',\n//     //             method: 'POST',\n//     //             body,\n//     //         }),\n//     //     }),\n//     //     toggleComplete: builder.mutation({\n//     //         query: ({ id, ...patch }) => ({\n//     //             url: `todos/${id}`,\n//     //             method: 'PUT',\n//     //             body: patch,\n//     //         }),\n//     //     }),\n//     //     deleteTodo: builder.mutation({\n//     //         query: id => ({\n//     //             url: `todos/${id}`,\n//     //             method: 'DELETE',\n//     //         }),\n//     //     }),\n//     // }),\n// });\n// export const { useGetTodosQuery } = todoApi;\n\nconsole.log(todoApi);\nexport const getTodos = async () => {\n  const {\n    data\n  } = await axios.get('http://localhost:3004/todos');\n  return data;\n};\nexport const postTodos = async todo => {\n  const {\n    data\n  } = await axios.post('http://localhost:3004/todos', todo);\n  return data;\n};\nexport const deleteTodos = async todoId => {\n  const {\n    data\n  } = await axios.delete('http://localhost:3004/todos', todoId);\n  return data;\n};","map":{"version":3,"sources":["/Users/vitaliy/Documents/GitHub/React-Courses/src/service/apiService.js"],"names":["createApi","fetchBaseQuery","axios","todoApi","reducerPath","baseQuery","baseUrl","tagTypes","endpoints","builder","getTodos","query","transformResponse","res","sort","a","b","id","providesTags","addTodo","mutation","todo","url","method","body","invalidatesTags","updateTodo","deleteTodo","useGetTodosQuery","useAddTodoMutation","useUpdateTodoMutation","useDeleteTodoMutation","console","log","data","get","postTodos","post","deleteTodos","todoId","delete"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,cAApB,QAA0C,8BAA1C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,OAAO,GAAGH,SAAS,CAAC;AAC7BI,EAAAA,WAAW,EAAE,KADgB;AAE7BC,EAAAA,SAAS,EAAEJ,cAAc,CAAC;AAAEK,IAAAA,OAAO,EAAE;AAAX,GAAD,CAFI;AAG7BC,EAAAA,QAAQ,EAAE,CAAC,OAAD,CAHmB;AAI7BC,EAAAA,SAAS,EAAEC,OAAO,KAAK;AACnBC,IAAAA,QAAQ,EAAED,OAAO,CAACE,KAAR,CAAc;AACpBA,MAAAA,KAAK,EAAE,MAAM,QADO;AAEpBC,MAAAA,iBAAiB,EAAEC,GAAG,IAAIA,GAAG,CAACC,IAAJ,CAAS,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACC,EAAF,GAAOF,CAAC,CAACE,EAA5B,CAFN;AAGpBC,MAAAA,YAAY,EAAE,CAAC,OAAD;AAHM,KAAd,CADS;AAMnBC,IAAAA,OAAO,EAAEV,OAAO,CAACW,QAAR,CAAiB;AACtBT,MAAAA,KAAK,EAAEU,IAAI,KAAK;AACZC,QAAAA,GAAG,EAAE,QADO;AAEZC,QAAAA,MAAM,EAAE,MAFI;AAGZC,QAAAA,IAAI,EAAEH;AAHM,OAAL,CADW;AAMtBI,MAAAA,eAAe,EAAE,CAAC,OAAD;AANK,KAAjB,CANU;AAcnBC,IAAAA,UAAU,EAAEjB,OAAO,CAACW,QAAR,CAAiB;AACzBT,MAAAA,KAAK,EAAEU,IAAI,KAAK;AACZC,QAAAA,GAAG,EAAG,UAASD,IAAI,CAACJ,EAAG,EADX;AAEZM,QAAAA,MAAM,EAAE,OAFI;AAGZC,QAAAA,IAAI,EAAEH;AAHM,OAAL,CADc;AAMzBI,MAAAA,eAAe,EAAE,CAAC,OAAD;AANQ,KAAjB,CAdO;AAsBnBE,IAAAA,UAAU,EAAElB,OAAO,CAACW,QAAR,CAAiB;AACzBT,MAAAA,KAAK,EAAE;AAAA,YAAC;AAAEM,UAAAA;AAAF,SAAD;AAAA,eAAa;AAChBK,UAAAA,GAAG,EAAG,UAASL,EAAG,EADF;AAEhBM,UAAAA,MAAM,EAAE,QAFQ;AAGhBC,UAAAA,IAAI,EAAEP;AAHU,SAAb;AAAA,OADkB;AAMzBQ,MAAAA,eAAe,EAAE,CAAC,OAAD;AANQ,KAAjB;AAtBO,GAAL;AAJW,CAAD,CAAzB;AAqCP,OAAO,MAAM;AACTG,EAAAA,gBADS;AAETC,EAAAA,kBAFS;AAGTC,EAAAA,qBAHS;AAITC,EAAAA;AAJS,IAKT5B,OALG,C,CAOP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA6B,OAAO,CAACC,GAAR,CAAY9B,OAAZ;AAEA,OAAO,MAAMO,QAAQ,GAAG,YAAW;AAC/B,QAAM;AAAEwB,IAAAA;AAAF,MAAW,MAAMhC,KAAK,CAACiC,GAAN,CAAU,6BAAV,CAAvB;AACA,SAAOD,IAAP;AACH,CAHM;AAKP,OAAO,MAAME,SAAS,GAAG,MAAMf,IAAN,IAAc;AACnC,QAAM;AAAEa,IAAAA;AAAF,MAAW,MAAMhC,KAAK,CAACmC,IAAN,CAAW,6BAAX,EAA0ChB,IAA1C,CAAvB;AACA,SAAOa,IAAP;AACH,CAHM;AAKP,OAAO,MAAMI,WAAW,GAAG,MAAMC,MAAN,IAAgB;AACvC,QAAM;AAAEL,IAAAA;AAAF,MAAW,MAAMhC,KAAK,CAACsC,MAAN,CAAa,6BAAb,EAA4CD,MAA5C,CAAvB;AACA,SAAOL,IAAP;AACH,CAHM","sourcesContent":["import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nimport axios from 'axios';\n\nexport const todoApi = createApi({\n    reducerPath: 'api',\n    baseQuery: fetchBaseQuery({ baseUrl: 'http://localhost:3500' }),\n    tagTypes: ['Todos'],\n    endpoints: builder => ({\n        getTodos: builder.query({\n            query: () => '/todos',\n            transformResponse: res => res.sort((a, b) => b.id - a.id),\n            providesTags: ['Todos'],\n        }),\n        addTodo: builder.mutation({\n            query: todo => ({\n                url: '/todos',\n                method: 'POST',\n                body: todo,\n            }),\n            invalidatesTags: ['Todos'],\n        }),\n        updateTodo: builder.mutation({\n            query: todo => ({\n                url: `/todos/${todo.id}`,\n                method: 'PATCH',\n                body: todo,\n            }),\n            invalidatesTags: ['Todos'],\n        }),\n        deleteTodo: builder.mutation({\n            query: ({ id }) => ({\n                url: `/todos/${id}`,\n                method: 'DELETE',\n                body: id,\n            }),\n            invalidatesTags: ['Todos'],\n        }),\n    }),\n});\n\nexport const {\n    useGetTodosQuery,\n    useAddTodoMutation,\n    useUpdateTodoMutation,\n    useDeleteTodoMutation,\n} = todoApi;\n\n// export const todoApi = createApi({\n//     reducerPath: 'apiService',\n//     baseQuery: fetchBaseQuery({ baseUrl: 'http://localhost:3000/' }),\n//     tagTypes: ['Post'],\n//     endpoints: build => ({\n//         getTodos: build.query({\n//             query: () => 'todos',\n//         }),\n//     }),\n//     // endpoints: builder => ({\n//     //     getAllTodos: builder.query({\n//     //         query: () => ({\n//     //             url: 'todos',\n//     //             method: 'GET',\n//     //         }),\n//     //         providesTags: result => console.log(result),\n//     //         // result ? [\n//     //         //     ...result.map(({ id }) => ({\n//     //         //         type: 'Todo',\n//     //         //         id,\n//     //         //     })),\n//     //         //     { type: 'Todo', id: 'LIST' },\n//     //         // ] : [{ type: 'Todo', id: 'LIST' }],\n//     //     }),\n\n//     //     addTodo: builder.mutation({\n//     //         query: body => ({\n//     //             url: 'todos',\n//     //             method: 'POST',\n//     //             body,\n//     //         }),\n//     //     }),\n//     //     toggleComplete: builder.mutation({\n//     //         query: ({ id, ...patch }) => ({\n//     //             url: `todos/${id}`,\n//     //             method: 'PUT',\n//     //             body: patch,\n//     //         }),\n//     //     }),\n//     //     deleteTodo: builder.mutation({\n//     //         query: id => ({\n//     //             url: `todos/${id}`,\n//     //             method: 'DELETE',\n//     //         }),\n//     //     }),\n//     // }),\n// });\n\n// export const { useGetTodosQuery } = todoApi;\nconsole.log(todoApi);\n\nexport const getTodos = async() => {\n    const { data } = await axios.get('http://localhost:3004/todos');\n    return data;\n};\n\nexport const postTodos = async todo => {\n    const { data } = await axios.post('http://localhost:3004/todos', todo);\n    return data;\n};\n\nexport const deleteTodos = async todoId => {\n    const { data } = await axios.delete('http://localhost:3004/todos', todoId);\n    return data;\n};\n"]},"metadata":{},"sourceType":"module"}