{"ast":null,"code":"var _jsxFileName = \"/Users/vitaliy/Documents/GitHub/React-Courses/src/services/ApiState.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const withApiState = TargetComponent => class extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      current: 'idle'\n    };\n    this.apiState = {\n      pending: () => this.setState({\n        current: 'pending'\n      }),\n      // => state\n      success: () => this.setState({\n        current: 'success'\n      }),\n      error: () => {\n        this.setState({\n          current: 'error'\n        });\n        toast.error('Oops Something went wrong, try please later');\n      },\n      idle: () => this.setState({\n        current: 'idle'\n      }),\n      isPending: () => this.state.current === 'pending',\n      // => state process\n      isSuccess: () => this.state.current === 'success',\n      isError: () => this.state.current === 'error',\n      isIdle: () => this.state.current === 'idle'\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(TargetComponent, { ...this.props,\n      apiState: this.apiState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 14\n    }, this);\n  }\n\n};\nwithApiState.propTypes = {\n  TargetComponent: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/Users/vitaliy/Documents/GitHub/React-Courses/src/services/ApiState.jsx"],"names":["React","Component","PropTypes","toast","withApiState","TargetComponent","state","current","apiState","pending","setState","success","error","idle","isPending","isSuccess","isError","isIdle","render","props","propTypes","func","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;;AAEA,OAAO,MAAMC,YAAY,GAAGC,eAAe,IACzC,cAAcJ,SAAd,CAAwB;AAAA;AAAA;AAAA,SACtBK,KADsB,GACd;AACNC,MAAAA,OAAO,EAAE;AADH,KADc;AAAA,SAItBC,QAJsB,GAIX;AACTC,MAAAA,OAAO,EAAE,MAAM,KAAKC,QAAL,CAAc;AAAEH,QAAAA,OAAO,EAAE;AAAX,OAAd,CADN;AAC6C;AACtDI,MAAAA,OAAO,EAAE,MAAM,KAAKD,QAAL,CAAc;AAAEH,QAAAA,OAAO,EAAE;AAAX,OAAd,CAFN;AAGTK,MAAAA,KAAK,EAAE,MAAM;AACX,aAAKF,QAAL,CAAc;AAAEH,UAAAA,OAAO,EAAE;AAAX,SAAd;AACAJ,QAAAA,KAAK,CAACS,KAAN,CAAY,6CAAZ;AACD,OANQ;AAOTC,MAAAA,IAAI,EAAE,MAAM,KAAKH,QAAL,CAAc;AAAEH,QAAAA,OAAO,EAAE;AAAX,OAAd,CAPH;AAQTO,MAAAA,SAAS,EAAE,MAAM,KAAKR,KAAL,CAAWC,OAAX,KAAuB,SAR/B;AAQ0C;AACnDQ,MAAAA,SAAS,EAAE,MAAM,KAAKT,KAAL,CAAWC,OAAX,KAAuB,SAT/B;AAUTS,MAAAA,OAAO,EAAE,MAAM,KAAKV,KAAL,CAAWC,OAAX,KAAuB,OAV7B;AAWTU,MAAAA,MAAM,EAAE,MAAM,KAAKX,KAAL,CAAWC,OAAX,KAAuB;AAX5B,KAJW;AAAA;;AAkBtBW,EAAAA,MAAM,GAAG;AACP,wBAAO,QAAC,eAAD,OAAqB,KAAKC,KAA1B;AAAiC,MAAA,QAAQ,EAAE,KAAKX;AAAhD;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AApBqB,CADnB;AAwBPJ,YAAY,CAACgB,SAAb,GAAyB;AACvBf,EAAAA,eAAe,EAAEH,SAAS,CAACmB,IAAV,CAAeC;AADT,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport toast from 'react-hot-toast';\n\nexport const withApiState = TargetComponent =>\n  class extends Component {\n    state = {\n      current: 'idle',\n    };\n    apiState = {\n      pending: () => this.setState({ current: 'pending' }), // => state\n      success: () => this.setState({ current: 'success' }),\n      error: () => {\n        this.setState({ current: 'error' });\n        toast.error('Oops Something went wrong, try please later');\n      },\n      idle: () => this.setState({ current: 'idle' }),\n      isPending: () => this.state.current === 'pending', // => state process\n      isSuccess: () => this.state.current === 'success',\n      isError: () => this.state.current === 'error',\n      isIdle: () => this.state.current === 'idle',\n    };\n\n    render() {\n      return <TargetComponent {...this.props} apiState={this.apiState} />;\n    }\n  };\n\nwithApiState.propTypes = {\n  TargetComponent: PropTypes.func.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}